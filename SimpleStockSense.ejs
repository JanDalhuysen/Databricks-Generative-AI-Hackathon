<body
  style="
    font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas,
      monospace;
  "
>
  <div style="text-align: center; background-color: rgb(31 41 55)">
    <p style="color: rgb(31 41 55)">.</p>
    <h1 style="color: rgb(147 197 253)">SimpleStockSense</h1>

    <p style="color: rgb(147 197 253)">
      Get information on the stock market and make informed decisions
    </p>
    <p style="color: rgb(255 255 255)">Step 1:</p>
    <p style="color: rgb(147 197 253)">Click on the "Get Analysis" button</p>
    <p style="color: rgb(147 197 253)">
      Be patient as this can take up to 10 seconds
    </p>
    <p style="color: rgb(255 255 255)">Step 2:</p>
    <p style="color: rgb(147 197 253)">
      After it is done, you will see an analysis of the stock and its
      performance over the last year generated by Meta Llama 3
    </p>
    <p style="color: rgb(31 41 55)">.</p>
    <p style="color: rgb(31 41 55)">.</p>
  </div>

  <div style="text-align: center">
    <input
      type="text"
      id="stock_symbol_input"
      placeholder="Enter stock symbol"
    />
  </div>

  <div style="text-align: center">
    <button id="start_testing_button" type="button" onclick="step_one()">
      Get Analysis
    </button>
  </div>

  <div style="text-align: center">
    <p id="results_paragraph"></p>
  </div>
</body>

<script>
  function step_one() {
    console.log("Inside start_testing() function");
    let fetch_string =
      "/SimpleStockSense_step_one/" +
      document.getElementById("stock_symbol_input").value;
    var testingButton = document.getElementById("start_testing_button");
    testingButton.innerText = "Busy...";

    fetch(fetch_string, {
      method: "GET",
      headers: {
        "Content-Type": "application/json",
      },
    })
      .then((response) => response.text())
      .then((data) => {
        const resultsParagraph = document.getElementById("results_paragraph");
        resultsParagraph.innerText = data;
        testingButton.innerText = "Get Analysis";
      })
      .catch((error) => console.error("Error:", error));
  }
</script>
